<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <style type="text/css">
  	.iconfont {
  		font-family: iconfont;
  		color: pink;
  		font-size: 30px;
  	}
  	@font-face {
  		font-family: 'iconfont';  /* project id 1335497 */
  		src: url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.eot');
  		src: url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.eot?#iefix') format('embedded-opentype'),
  		url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.woff2') format('woff2'),
  		url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.woff') format('woff'),
  		url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.ttf') format('truetype'),
  		url('https://at.alicdn.com/t/font_1335497_uxp74pitboa.svg#iconfont') format('svg');
}
	
	.pos {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%,-50%);
	}
  	.theAudio {
  		position: relative;
  		width: 400px;
  		height: 120px;
  		border: 2px solid rgb(136,223,173);
  	}

  	.play {
  		position: absolute;
  		left: 61px;
  		top: 54px;
  		display: block;
  	}
  	.pause {
  		position: absolute;
  		left: 58px;
  		top: 54px;
  		display: none;
  	}
  	.up {
  		position: absolute;
  		left: 100px;
  		top: 54px;
  	}
  	.down {
  		position: absolute;
  		left: 20px;
  		top: 54px;
  	}

  	.title {
  		position: absolute;
  		left: 220px;
  		top: 15px;
  		font-size: 20px;
  		color: black;
  	}
  	.auther {
  		position: absolute;
  		left: 220px;
  		top: 57px;
  		font-size: 20px;
  		color: black;
  	}

  	.coverPicture {
  		position: absolute;
  		left: -2px;
  		top: 120px;
  		width: 200px;
  		height: 200px;
  		border: 2px solid black;
  	}
  	.musicList {
  		position: absolute;
  		right: -2px;
  		top: 120px;
  		width: 200px;
  		height: 200px;
  		border: 2px solid black;
  	}
  </style>
</head>
<body>
	
	<div class="pos">
		<div class="theAudio">
			<div class="title">ifyou</div><!--标题-->
			<div class="auther">bigbang</div><!--作者-->
			<div class="iconfont play">&#xe633;</div><!--播放按钮-->
			<div class="iconfont pause">&#xe63b;</div><!--暂停-->
			<div class="iconfont up">&#xe602;</div><!--上一首-->
			<div class="iconfont down">&#xe603;</div><!--下一首-->
			<div class="coverPicture"></div><!--封面-->
			<div class="musicList"></div>
		</div>
	</div>

	<script type="text/javascript">
		var xhr = new XMLHttpRequest()
		xhr.open('GET','http://localhost:7500/music')
		xhr.onload = function(){
			var music = JSON.parse(xhr.responseText)
			console.log(music)

			/*音乐*/
		function $(select){
			return document.querySelector(select)
		}
		function $$(select){
			return document.querySelectorAll(select)
		}

		var audioObject = new Audio()
		audioObject.src = music[0].src
		$('.title').innerText = music[0].title
		$('.auther').innerText = music[0].auther
		$('.coverPicture').style.background.url = music[0].img

		$('.theAudio').addEventListener('click',function(e){
			if(e.target.classList.contains('play')){
				audioObject.play()
				$('.play').style.display = 'none'
				$('.pause').style.display = 'block'
			}
			if(e.target.classList.contains('pause')){
				audioObject.pause()
				$('.play').style.display = 'block'
				$('.pause').style.display = 'none'
			}
			
		})

		}

		xhr.send()



	</script>
</body>
</html>